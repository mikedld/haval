Installation instructions for HAVAL
===================================

Copyright (c) 2003 Calyptix Security Corporation
Copyright (c) 2020 Mike Gelfand
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:

 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following
    disclaimer in the documentation and/or other materials provided
    with the distribution.

 3. Neither the name of Calyptix Security Corporation nor the
    names of its contributors may be used to endorse or promote
    products derived from this software without specific prior
    written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

-------------------------------------------------------------------

Building and installing HAVAL
=============================

To build the package, use the following commands:

    ./configure
    make

This will build the haval binary.

After building, if you wish to install HAVAL, type:

    make install

This will usually install the haval binary to /usr/bin or
/usr/local/bin, depending on your setup. If you wish to install
the binary elsewhere, say in /home/joe/mystuff, use the --prefix
switch to configure as follows:

    ./configure --prefix=/home/joe/mystuff
    make
    make install


Configure options for HAVAL
===========================

--with-num-passes=<num>     This will make HAVAL use the number of
                            passes specified by <num>. This value can
                            be 3, 4, or 5. If this option is not
                            specified, the number of passes is set
                            to 3.

--with-fpt-len=<len>        This will make HAVAL use a fingerprint
                            length of <len> bits. This value can be
                            128, 160, 192, 224, or 256. If this option
                            is not specified, the fingerprint length
                            is set to 256 bits.

--with-test-blocks=<num>    This will make HAVAL use <num> blocks
                            for testing its speed. If this option
                            is not specified, 5000 test blocks are used.

--with-block-size=<num>     This will make HAVAL use test block sizes
                            of <num> bytes each. If not specified,
                            a 5000-byte block size is used.

--enable-extra-optimization This will make HAVAL use extra optimization
                            settings from gcc. Note that this is
                            specific to the i686 platform.

A short description of these options can also be displayed by
typing:

    ./configure --help.


Examples
========

To configure HAVAL to use 4 passes:

    ./configure --with-num-passes=4

To configure HAVAL to use 5 passes and a fingerprint length of 192 bits:

    ./configure --with-num-passes=5 --with-fpt-len=192

To configure HAVAL to use 10,000 blocks in its speed test:

    ./configure --with-test-blocks=10000

To configure HAVAL to use a block size of 3,000 bytes in its speed test:

    ./configure --with-block-size=3000

To configure HAVAL to use 4 passes, a fingerprint length of 224 bits,
7,000 blocks in its speed test, with block sizes of 4,000 bytes:

    ./configure --with-num-passes=4 --with-fpt-len=224 \
                --with-test-blocks=7000 --with-block-size=3000

